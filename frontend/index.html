<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Radar de Acoes - Analise Rapida</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <main class="wrap">
      <header class="hero reveal" style="--delay: 80ms;">
        <p class="eyebrow">Leitura rapida do mercado</p>
        <h1>Analise tendencias, setups e risco em segundos</h1>
        <p class="sub">
          Resumo geral com sinais e consulta rapida com score detalhado por linha.
        </p>
      </header>

      <nav class="tabs reveal" style="--delay: 140ms;">
        <button type="button" class="tab active" data-tab="summary">Resumo</button>
        <button type="button" class="tab" data-tab="general" disabled>Consulta Geral</button>
      </nav>

      <section class="tab-panel" id="tab-summary">
        <section class="card reveal" id="summary-card" style="--delay: 220ms;">
        <div class="summary-head">
          <h2>Resumo</h2>
          <p class="muted">Regras: score >= 70 compra, score <= 30 venda, RR >= 2.</p>
        </div>
        <div class="summary-loading" id="summary-loading" hidden>
          <div class="spinner" aria-label="Carregando"></div>
          <span class="muted">Carregando resumo...</span>
        </div>
        <div class="summary-grid">
          <div class="summary-col">
            <h3>Comprar</h3>
            <ul class="summary-list" id="summary-buy"></ul>
          </div>
            <div class="summary-col">
              <h3>Vender</h3>
              <ul class="summary-list" id="summary-sell"></ul>
            </div>
            <div class="summary-col">
              <h3>Ficar fora</h3>
              <ul class="summary-list" id="summary-hold"></ul>
            </div>
          </div>
        </section>
      </section>

      <section class="tab-panel" id="tab-general" hidden>
        <section class="card reveal" id="status-card" hidden style="--delay: 200ms;">
          <p id="status"></p>
        </section>

        <div class="table-controls reveal" style="--delay: 220ms;">
          <div class="table-filter">
            <input id="table-filter" type="text" placeholder="Filtrar por ticker..." autocomplete="off" />
          </div>
          <span class="muted" id="table-updated">Atualizado em: -</span>
          <button type="button" class="ghost" id="page-prev">Anterior</button>
          <span class="muted" id="page-info">Pagina 0 de 0</span>
          <button type="button" class="ghost" id="page-next">Proxima</button>
        </div>

        <section class="table-wrap reveal" id="table-wrap" hidden style="--delay: 240ms;">
          <table>
            <thead>
              <tr>
                <th>Logo</th>
                <th>
                  <button type="button" class="sort-button" data-sort="ticker">Ticker</button>
                </th>
                <th>
                  <button type="button" class="sort-button" data-sort="ultimo">Ultimo</button>
                </th>
                <th>
                  <button type="button" class="sort-button" data-sort="variacao">Variacao</button>
                </th>
                <th>
                  <button type="button" class="sort-button" data-sort="volume">Volume</button>
                </th>
                <th>
                  <button type="button" class="sort-button" data-sort="score">Score</button>
                </th>
              </tr>
            </thead>
            <tbody id="tbody"></tbody>
          </table>
        </section>

      </section>

    </main>

    <div class="score-panel" id="score-panel" hidden aria-hidden="true">
      <div class="score-panel-backdrop" data-close="panel"></div>
      <div class="score-panel-card" role="dialog" aria-modal="true" aria-labelledby="score-panel-title">
        <div class="score-panel-header">
          <div>
            <p class="eyebrow">Score detalhado</p>
            <h2 id="score-panel-title">Detalhes</h2>
            <p class="muted">Parametros usados no calculo do score.</p>
          </div>
          <button type="button" class="ghost small" id="score-panel-close">Fechar</button>
        </div>
        <div class="score-panel-body" id="score-panel-body"></div>
      </div>
    </div>

    <footer class="foot reveal" style="--delay: 320ms;">
      <span>Fonte: brapi.dev</span>
    </footer>

    <script type="module" src="/app.js"></script>
  </body>
</html>
